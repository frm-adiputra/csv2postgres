// Code generated by {{.Generator}} DO NOT EDIT

package {{.PkgVar}}

{{- if .HasValidation}}
import (
    "fmt"
    "github.com/go-ozzo/ozzo-validation/v4"
)
{{- end}}

// Validator implements pipeline.Validator interface.
type Validator struct {}

// Validate validates field's values.
func (c Validator) Validate(fields map[string]interface{}) error {
{{- if .HasValidation}}
    var err error
{{- end}}
{{- range .Fields}}
{{- if .Validation}}
    err = validation.Validate(fields["{{.Name}}"],
    {{- range .Validation}}
        validation.{{upperCaseFirst .}},
    {{- end}}
    )
    if err != nil {
        return fmt.Errorf("validating field '{{.Name}}': %w", err)
    }
{{- end}}{{end}}
    return nil
}
